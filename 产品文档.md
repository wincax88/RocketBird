# 集团化运营级会员端产品文档

> 打破门店界限，集团直面会员，为会员提供统一的、品牌化的运营服务和关怀

---

## 一、项目概述

本项目为商业健身连锁集团构建"以会员为中心"的品牌化运营体系，以集团品牌为维度（突破门店的区位界限），通过打造集团品牌化会员端，使之成为会员服务、会员关怀和会员运营的载体，用技术结合线上+线下的活动运营手段，让会员获得良好的场馆内和场馆外的综合体验和会员精神价值，形成口碑效应，从而助力商业健身连锁集团实现运营服务上的差异化，实现会员的营销增长。

### 技术部署要求

* **后端部署在腾讯云 TCB（腾讯云开发）**
* **前端包括：H5（会员端） + 管理后台（运营后台）**
* **支持后续平滑扩展到微信小程序**
* **技术栈提前为微信小程序留好兼容性与复用能力**

---

## 二、方案目标

### 1. 主要目标

| 目标 | 描述 |
|------|------|
| 品牌塑造 | 搭建线上线下统一的品牌定位、品牌视觉标识和品牌个性宣言，抢占用户品牌心智 |
| 会员口碑形成 | 与场馆内的会员服务形成联动，实现会员场馆外的关怀和服务，调动会员积极参与品牌的运营活动，提高与品牌的互动和粘性，赋予会员精神价值，形成打卡文化和良好的体验口碑 |
| 会员私域自传播/营销增长 | 基于口碑形成会员私域营销环境，让会员自主自发的为品牌推广，助力营销增长 |

### 2. 目标分解

| 目标 | 重点功能 | 功能点 |
|------|----------|--------|
| 品牌塑造 | 品牌的 VI+UI 视觉体系 | 品牌定位、宣言、故事；品牌视频、代言 |
| 会员口碑形成 | 会员等级和权益 | 会员等级、会员权益、会员成长体系 |
| 会员口碑形成 | 会员积分 | 会员积分的产生、积分兑换 |
| 会员口碑形成 | 会员福利 | 会员生日礼、会员成长礼、新会员礼 |
| 会员口碑形成 | 打卡分享 | 打卡分享 |
| 会员口碑形成 | 会员日全员活动 | 会员日全员活动 |
| 会员口碑形成 | 赛事活动 | 赛事活动报名、荣誉墙 |
| 会员口碑形成 | 会员精彩瞬间 | 图片/短视频瀑布流、点赞、正能量评价、分享形成社交化属性 |
| 会员私域自传播 | 会员分享 | 会员自主分享 |
| 会员私域自传播 | 推荐好友 | 推荐好友加入 |

---

## 三、会员 O2O 运营全链路（线上线下联动）

### 会员流量转换

```
                    公域流量                              线下流量
        ┌─────────────────────────┐      ┌─────────────────────────┐
        │  抖音  微信  美团        │      │  短信  电话  社群  企业  │
        └───────────┬─────────────┘      └───────────┬─────────────┘
                    │                                │
                    └────────────┬───────────────────┘
                                 ▼
                    ┌─────────────────────────┐
                    │     微信小程序(私域)     │
                    └───────────┬─────────────┘
                                │
            ┌───────────────────┼───────────────────┐
            ▼                   ▼                   ▼
      ┌──────────┐       ┌──────────┐       ┌──────────┐
      │ 活跃会员  │       │ 沉默会员  │       │私域新会员 │
      └──────────┘       └──────────┘       └──────────┘
```

### 会员场馆 O2O 全旅途链路

**新会员 O2O 旅途**：流量平台获客 → 品牌小程序注册 → 线下入场签到 → 体测获取身体数据 → 私教体验 → 成交转化 → 引导进入品牌小程序领取新会员礼 → 会员离场（场外服务：约课、场外关怀、参与平台各类活动、转发精彩瞬间）

**存量活跃会员 O2O 旅途**：活跃会员 → 品牌小程序（等级/权益/积分/打卡/福利/活动）→ 线下私教服务/活动报名/体测 → 会员离场 → 形成口碑，带动新会员加入

**沉默会员召回**：通过短信/电话/微信触达沉默老会员 → 召回体验级产品 → 品牌小程序 → 线上线下联动 → 重新激活

---

## 四、一期项目整体需求

> 一期可以先把"运营模块 + 基础会员能力"上线
> 二期再上赛事、秒杀、大转盘、即时聊天等高级功能

### H5 会员端（一期上线版）

| 序号 | 一级功能 | 二级功能 | 功能描述 |
|------|----------|----------|----------|
| 1 | 品牌皮肤设计 | - | 与品牌的视觉体系保持统一 |
| 2 | 会员登录 | 新会员注册 | 新会员自动注册，与 SaaS 潜客系统打通 |
| 3 | | 会员登录 | 使用会员微信手机号码一键登录或短信验证码登录 |
| 4 | 关于品牌 | 品牌故事 | 品牌定位、宣言、故事 |
| 5 | 会员等级 | 会员等级 | 会员等级和会员等级升级的展现 |
| 6 | | 会员权益 | 各等级对应的权益的展现 |
| 7 | | 分享 | 支持分享朋友圈后可升级获得权益，分享后可随机获得分享奖励 |
| 8 | 会员积分 | 会员积分 | 会员的积分余额、积分收入、支出明细的展示 |
| 9 | | 积分兑换 | 积分商城，支持实物+虚拟商品的兑换 |
| 10 | | 分享 | 支持分享朋友圈后可兑换获得商品或者服务 |
| 11 | 打卡分享 | 打卡分享 | 场馆内布置不同的健身打卡主题，支持会员打卡分享，分享可获得随机礼品 |
| 12 | 会员福利 | 会员生日礼 | 系统根据运营后台的会员生日礼赠送规则，自动在会员生日当天赠送会员礼 |
| 13 | | 会员成长礼 | 系统根据运营后台配置的会员等级升级规则，自动在会员升级完成后赠送成长礼 |
| 14 | | 新会员礼 | 系统根据运营后台配置的新会员礼赠送规则，自动在会员从潜客升级为会籍会员时赠送新会员礼 |
| 15 | 每日健身餐推荐 | 每日健身餐推荐 | 每一周由指定营养师在运营后台上传一周的每日健身餐推荐 |
| 16 | | 分享 | 支持分享朋友圈，分享后可随机获得分享奖励 |
| 17 | 推荐好友 | 推荐好友 | 生成推荐海报 + 链接，推荐好友加入 |
| 18 | 咨询顾问 | 咨询顾问 | 可为会员匹配 1 对 1 的私教教练为会员的咨询顾问（仅展示功能） |
| 19 | 意见反馈 | 意见反馈 | 会员提交意见反馈 |

### 管理后台（一期上线版）

| 序号 | 一级功能 | 二级功能 | 功能描述 |
|------|----------|----------|----------|
| 1 | 会员管理 | 会员管理 | 支持品牌端会员的按属性查询 |
| 2 | | 会员推荐关系 | 记录会员之间的推荐关系（仅一级），设置会员推荐的奖励规则 |
| 3 | | 会员等级管理 | 支持会员等级规则设置和管理 |
| 4 | | 会员权益管理 | 支持会员权益规则设置和管理 |
| 5 | | 会员积分管理 | 支持会员积分规则设置和管理 |
| 6 | 品牌管理 | 品牌内容管理 | CMS 内容管理系统，可创建关于品牌等品牌介绍页面内容 |
| 7 | 积分管理 | 积分收支记录 | 会员的积分收入、支出明细的展示 |
| 8 | | 积分兑换管理 | 积分商城，支持实物+虚拟商品的兑换，以及兑换记录的查询 |
| 9 | 分享管理 | 打卡分享 | 各类会员分享的规则设置 |
| 10 | | 会员福利分享 | 各类会员分享的规则设置 |
| 11 | | 健康餐分享 | 各类会员分享的规则设置 |
| 12 | 会员福利管理 | 生日礼规则管理 | 可配置生日礼的识别规则和奖励礼品 |
| 13 | | 成长礼规则管理 | 可配置成长礼的识别规则和奖励礼品 |
| 14 | | 新会员礼规则管理 | 可配置新会员礼的识别规则和奖励礼品 |
| 15 | | 礼品领取记录 | 查看会员礼品领取记录 |
| 16 | 健身餐内容管理 | 每日健身餐推荐 | 支持上传一周的每日健身餐的图文内容 |
| 17 | 意见反馈管理 | 意见反馈管理 | 支持查看会员在品牌小程序提交的反馈意见，支持运营人员回复 |
| 18 | 数据统计报表 | 等级会员统计 | 会员等级分布统计 |
| 19 | | 会员推荐统计 | 推荐关系统计 |
| 20 | | 积分产生消耗统计 | 积分流水统计 |
| 21 | | 积分兑换统计 | 兑换数据统计 |
| 22 | | 会员分享统计 | 分享行为统计 |
| 23 | | 会员福利领取统计 | 福利领取统计 |
| 24 | 系统管理 | 账号管理 | 支持创建运营后台的使用账号 |
| 25 | | 角色权限管理 | 支持创建运营后台账号的角色权限 |
| 26 | | 系统操作日志管理 | 支持账号对系统页面查看和系统功能操作的日志查询 |

### 二期功能规划

**H5/小程序端**：
- 抽奖（大转盘抽奖活动）
- 会员日活动（会员日活动、会员日记忆）
- 赛事（赛事活动报名、奖品领取、我的成就）
- 精彩瞬间（图片/短视频瀑布流、点赞、评论）
- 秒杀（每日/周/月秒杀活动）
- 即时聊天（与教练在线沟通）

**管理后台**：
- 抽奖规则管理
- 会员日活动管理
- 赛事管理
- 精彩瞬间管理
- 秒杀管理
- 即时聊天系统

## 五、技术方案（重点：兼容微信小程序、可上 TCB）

### 后端：腾讯云 TCB（Node.js 云函数）

**选型原因**：

* 原生支持 Node.js
* 提供云数据库（MongoDB）
* 提供云存储、云托管
* 后期微信小程序可无缝对接（使用同一个 TCB 环境）

**后端结构**：

* API 使用 **TCB 云函数（HTTP 形式）**
* 数据库：TCB MongoDB
* 文件（打卡图片/短视频/健身餐图）：TCB 云存储
* 认证：微信登录 + 手机验证码登录（用云开发短信）

### 前端技术栈（重点为未来小程序做铺垫）

**会员端 H5：使用 UniApp（Vue3 + Vite）**

* UniApp 一套代码，可输出 H5 + 微信小程序
* 一期做 H5，二期直接编译成小程序，复用 80% 代码
* 支持微信授权、文件上传、分享海报等功能
* 构建方式：UniApp + Vue3 + Pinia + Vite
* UI 组件库：uView 2 或 uni-ui

**管理后台：React + Vite + Ant Design**

管理后台对小程序无复用需求，直接用最佳组合：

* React 18
* Vite
* Ant Design 5
* SWR / React Query

**接口统一规范**：RESTful API（TCB 对 REST 更友好）

---

## 六、项目架构图

### 产品关系与边界

品牌微信小程序连同品牌运营后台，承担场馆统一的品牌价值的传递，统一的会员服务、会员关怀、会员运营活动，提升会员在场馆内外的精神价值和轻社交化，通过会员的自主传播达到品牌推广和营销的目的。

```
┌─────────────────┐                    ┌─────────────────┐
│    品牌         │                    │                 │
│  微信小程序     │◄────链接跳转────►  │   勤鸟会员端    │
│                 │                    │                 │
└────────┬────────┘                    └─────────────────┘
         │
         │ 数据同步
         ▼
┌─────────────────┐                    ┌─────────────────┐
│                 │                    │                 │
│  品牌运营后台   │◄────API 接口────►  │  勤鸟 SaaS 后台 │
│                 │                    │                 │
└─────────────────┘                    └─────────────────┘
```

### 技术架构图

```
                               ┌───────────────────────────┐
                               │      管理后台 React       │
                               │  (Vite + AntD + SWR)      │
                               └───────────┬───────────────┘
                                           │ HTTPS API
┌──────────────────────────┐               │
│     H5 会员端（UniApp）   │──────────────▶│
│  Vue3 + Pinia + Vite      │               ▼
└──────────────────────────┘       ┌─────────────────────────┐
                                   │    腾讯云 TCB 云函数     │
┌──────────────────────────┐       │  Node.js + REST API     │
│ 微信小程序（后期版本）    │──────▶│  认证 / 会员 / 积分等   │
│（UniApp 直接编译）        │       └──────────┬──────────────┘
└──────────────────────────┘                  │
                                              │
                                      ┌───────▼────────┐
                                      │ TCB 云数据库    │
                                      │ MongoDB         │
                                      └──────────────────┘
                                      ┌──────────────────┐
                                      │ 云存储（图片视频）│
                                      └──────────────────┘
```

## 七、数据库设计（一期核心表）

### 1. user（会员）

| 字段 | 类型 | 说明 |
|------|------|------|
| userId | String | 用户唯一ID |
| openid | String | 微信 openid |
| unionid | String | 微信 unionid（跨平台统一） |
| phone | String | 手机号码 |
| nickname | String | 昵称 |
| avatar | String | 头像 URL |
| level | Number | 会员等级（1-N） |
| levelName | String | 等级名称 |
| points | Number | 当前积分余额 |
| totalPoints | Number | 累计获得积分 |
| inviteCode | String | 邀请码 |
| invitedBy | String | 邀请人 userId |
| consultantId | String | 咨询顾问（教练）ID |
| birthday | Date | 生日 |
| gender | Number | 性别：0未知 1男 2女 |
| status | Number | 状态：0禁用 1正常 |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 2. level（会员等级）

| 字段 | 类型 | 说明 |
|------|------|------|
| levelId | String | 等级ID |
| level | Number | 等级数值 |
| name | String | 等级名称 |
| icon | String | 等级图标 |
| minPoints | Number | 升级所需最低积分 |
| description | String | 等级描述 |
| benefits | Array | 权益列表 |
| status | Number | 状态 |
| createdAt | Date | 创建时间 |

### 3. points_log（积分流水）

| 字段 | 类型 | 说明 |
|------|------|------|
| logId | String | 流水ID |
| userId | String | 用户ID |
| type | String | 类型：income（收入）/ cost（支出） |
| value | Number | 积分数值 |
| balance | Number | 变动后余额 |
| source | String | 来源：sign/share/exchange/birthday/growth/admin/reward |
| sourceId | String | 关联业务ID |
| remark | String | 备注 |
| createdAt | Date | 创建时间 |

### 4. goods（积分商品）

| 字段 | 类型 | 说明 |
|------|------|------|
| goodsId | String | 商品ID |
| title | String | 商品名称 |
| description | String | 商品描述 |
| type | String | 类型：virtual（虚拟）/ physical（实物） |
| points | Number | 兑换所需积分 |
| stock | Number | 库存数量 |
| images | Array | 商品图片列表 |
| limitPerUser | Number | 每人限兑数量 |
| sortOrder | Number | 排序权重 |
| status | Number | 状态：0下架 1上架 |
| createdAt | Date | 创建时间 |
| updatedAt | Date | 更新时间 |

### 5. exchange_order（兑换订单）

| 字段 | 类型 | 说明 |
|------|------|------|
| orderId | String | 订单ID |
| userId | String | 用户ID |
| goodsId | String | 商品ID |
| goodsTitle | String | 商品名称（冗余） |
| points | Number | 消耗积分 |
| quantity | Number | 兑换数量 |
| status | Number | 状态：0待发放 1已发放 2已取消 |
| address | Object | 收货地址（实物商品） |
| remark | String | 备注 |
| createdAt | Date | 创建时间 |
| completedAt | Date | 完成时间 |

### 6. checkin（打卡）

| 字段 | 类型 | 说明 |
|------|------|------|
| checkinId | String | 打卡ID |
| userId | String | 用户ID |
| userNickname | String | 用户昵称（冗余） |
| userAvatar | String | 用户头像（冗余） |
| content | String | 打卡内容 |
| images | Array | 图片列表 |
| theme | String | 打卡主题 |
| location | String | 打卡地点 |
| shareCount | Number | 分享次数 |
| status | Number | 状态：0待审核 1已通过 2已拒绝 |
| rewardPoints | Number | 奖励积分 |
| createdAt | Date | 创建时间 |
| auditAt | Date | 审核时间 |
| auditBy | String | 审核人 |

### 7. meals（每日健身餐）

| 字段 | 类型 | 说明 |
|------|------|------|
| mealId | String | 健身餐ID |
| date | Date | 日期 |
| weekday | Number | 星期几（1-7） |
| title | String | 标题 |
| content | String | 内容描述 |
| images | Array | 图片列表 |
| calories | Number | 卡路里 |
| nutritionist | String | 营养师 |
| shareCount | Number | 分享次数 |
| status | Number | 状态：0隐藏 1显示 |
| createdAt | Date | 创建时间 |

### 8. gift_rule（福利规则）

| 字段 | 类型 | 说明 |
|------|------|------|
| ruleId | String | 规则ID |
| type | String | 类型：birthday/growth/newmember |
| name | String | 规则名称 |
| description | String | 规则描述 |
| rewardType | String | 奖励类型：points/goods/coupon |
| rewardValue | Mixed | 奖励值（积分数或商品ID） |
| levelLimit | Array | 适用会员等级 |
| status | Number | 状态：0禁用 1启用 |
| createdAt | Date | 创建时间 |

### 9. gift_record（礼品领取记录）

| 字段 | 类型 | 说明 |
|------|------|------|
| recordId | String | 记录ID |
| userId | String | 用户ID |
| ruleId | String | 规则ID |
| type | String | 类型：birthday/growth/newmember |
| rewardType | String | 奖励类型 |
| rewardValue | Mixed | 奖励值 |
| status | Number | 状态：0待领取 1已领取 |
| createdAt | Date | 创建时间 |
| claimedAt | Date | 领取时间 |

### 10. share_rule（分享规则）

| 字段 | 类型 | 说明 |
|------|------|------|
| ruleId | String | 规则ID |
| type | String | 分享类型：checkin/meal/level/gift |
| name | String | 规则名称 |
| rewardPoints | Number | 奖励积分 |
| dailyLimit | Number | 每日上限 |
| status | Number | 状态 |
| createdAt | Date | 创建时间 |

### 11. share_log（分享记录）

| 字段 | 类型 | 说明 |
|------|------|------|
| logId | String | 记录ID |
| userId | String | 用户ID |
| type | String | 分享类型 |
| targetId | String | 分享目标ID |
| rewardPoints | Number | 获得积分 |
| createdAt | Date | 创建时间 |

### 12. invite_record（邀请记录）

| 字段 | 类型 | 说明 |
|------|------|------|
| recordId | String | 记录ID |
| inviterId | String | 邀请人ID |
| inviteeId | String | 被邀请人ID |
| inviteePhone | String | 被邀请人手机号 |
| rewardPoints | Number | 奖励积分 |
| status | Number | 状态：0待奖励 1已奖励 |
| createdAt | Date | 创建时间 |

### 13. feedback（意见反馈）

| 字段 | 类型 | 说明 |
|------|------|------|
| feedbackId | String | 反馈ID |
| userId | String | 用户ID |
| userNickname | String | 用户昵称 |
| userPhone | String | 联系电话 |
| content | String | 反馈内容 |
| images | Array | 图片列表 |
| reply | String | 回复内容 |
| status | Number | 状态：0待处理 1已回复 2已关闭 |
| createdAt | Date | 创建时间 |
| replyAt | Date | 回复时间 |
| replyBy | String | 回复人 |

### 14. brand_content（品牌内容）

| 字段 | 类型 | 说明 |
|------|------|------|
| contentId | String | 内容ID |
| type | String | 类型：story/video/slogan |
| title | String | 标题 |
| content | String | 内容（富文本） |
| images | Array | 图片列表 |
| videoUrl | String | 视频 URL |
| sortOrder | Number | 排序 |
| status | Number | 状态 |
| createdAt | Date | 创建时间 |

### 15. admin_user（管理员）

| 字段 | 类型 | 说明 |
|------|------|------|
| adminId | String | 管理员ID |
| username | String | 用户名 |
| password | String | 密码（加密） |
| realName | String | 真实姓名 |
| phone | String | 手机号 |
| roleId | String | 角色ID |
| status | Number | 状态：0禁用 1正常 |
| lastLoginAt | Date | 最后登录时间 |
| createdAt | Date | 创建时间 |

### 16. admin_role（管理角色）

| 字段 | 类型 | 说明 |
|------|------|------|
| roleId | String | 角色ID |
| name | String | 角色名称 |
| permissions | Array | 权限列表 |
| description | String | 描述 |
| status | Number | 状态 |
| createdAt | Date | 创建时间 |

### 17. operation_log（操作日志）

| 字段 | 类型 | 说明 |
|------|------|------|
| logId | String | 日志ID |
| adminId | String | 操作人ID |
| adminName | String | 操作人姓名 |
| module | String | 模块 |
| action | String | 操作类型 |
| targetId | String | 操作目标ID |
| content | String | 操作内容 |
| ip | String | IP 地址 |
| createdAt | Date | 创建时间 |

---

## 八、开发排期建议

### 第 1 阶段：基础架构搭建

* TCB 云环境创建与配置
* 用户登录/注册/权限模块
* 数据库 schema 建立
* 管理后台模板搭建（React + AntD）
* H5 项目初始化（UniApp）

### 第 2 阶段：会员体系 / 积分体系

* 会员信息管理接口
* 会员等级与权益体系
* 积分规则与积分流水
* 积分商城（前后端）
* 管理后台积分商品管理

### 第 3 阶段：打卡分享 / 健身餐

* 打卡上传（含图片上传至云存储）
* 打卡审核与管理（后台）
* 健身餐内容管理（后台）
* 打卡列表、个人页展示

### 第 4 阶段：会员福利 / 推荐好友

* 会员福利规则配置（生日礼/成长礼/新会员礼）
* 福利自动发放与领取
* 邀请海报生成
* 推荐好友逻辑与奖励

### 第 5 阶段：管理后台完善

* 会员管理完善
* 数据统计报表
* 权限体系完善
* 意见反馈管理

### 第 6 阶段：测试与上线

* 功能测试与 Bug 修复
* 压力测试
* H5 发布到 TCB 静态托管
* 后端云函数上线
* 上线验收

---

## 九、后续可输出内容

- UI 原型（H5 + 后台）
- UniApp 项目脚手架
- TCB 云函数模板
- 完整接口文档（OpenAPI）
- 二期小程序架构方案
